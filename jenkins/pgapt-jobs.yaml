# defaults and macros

- defaults:
    name: global
    description: 'Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
    properties: &properties
        - build-discarder:
            days-to-keep: -1
            num-to-keep: 50
            artifact-days-to-keep: -1
            artifact-num-to-keep: 1
        - copyartifact:
            projects: '*'
    properties_more_artifacts: &properties_more_artifacts
        - build-discarder:
            days-to-keep: -1
            num-to-keep: 50
            artifact-days-to-keep: -1
            artifact-num-to-keep: 10
        - copyartifact:
            projects: '*'
    wrappers:
        - timestamps
    dist-filter: 'true'
    arch-filter: 'true'
    git-branch: master
    backports: ''

- yamltemplates:
    name: yamltemplates

    queue_choice: &queue_choice
            name: queue
            choices:
                    - incoming
                    - snapshot
                    - private
                    - discard
            description: 'Incoming queue to use: incoming uploads to reprepro, snapshot uploads to *-snapshot distributions, private stages the upload in a directory, discard throws the upload away.'

    queue_choice_snapshot: &queue_choice_snapshot
            <<: *queue_choice
            choices:
                    - snapshot
                    - incoming
                    - private
                    - discard

    buildtype_choice: &buildtype_choice
            name: buildtype
            choices:
                    - snapshot
                    - snapshot-dot
                    - normal
            description: 'snapshot: if changelog is UNRELEASED, build a snapshot tarball with a ~date version. With snapshot-dot, use a .date version.'

    upload_choice: &upload_choice
            name: upload
            choices:
                    - all
                    - extension-only
            description: 'all: upload all .deb files built, extension-only: upload PostgreSQL-version-specific .deb files only'

    slaves_axis: &slaves_axis
            type: slave
            name: slave
            values:
              - pgdgbuild-x86
              - moe-x86
              - pgdgbuild-ppc64el
    x86_slaves_axis: &x86_slaves_axis
            type: slave
            name: slave
            values:
              - pgdgbuild-x86
              - moe-x86
    ppc64el_slaves_axis: &ppc64el_slaves_axis
            type: slave
            name: slave
            values:
              - pgdgbuild-ppc64el

    arch_axis: &arch_axis
            type: slave
            name: architecture
            values: &arch_list
                    - amd64
                    - i386
                    - ppc64el
    arch_axis_userdefined: &arch_axis_userdefined
            <<: *arch_axis
            type: user-defined

    git_head_arch_axis: &git_head_arch_axis
            type: slave
            name: architecture
            values: [amd64]

    dist_axis: &dist_axis
            type: user-defined
            name: distribution
            values: &dist_list
                    - sid
                    - stretch
                    - jessie
                    - wheezy
                    - zesty
                    - xenial
                    - trusty

    git_head_dist_axis: &git_head_dist_axis
            type: user-defined
            name: distribution
            values:
                    - sid
                    - stretch
                    - jessie
                    - xenial
                    - trusty # for travis

    ircbot_only_configs: &only_configs
            strategy: any-failure
            message-type: summary
            matrix-notifier: only-configurations

    add_version_tag: &add_version_tag
        script: |
            import java.util.regex.Matcher;
            for (a in manager.build.getArtifacts()) {{
                    m = (a =~ /.*_(.*)\.dsc/);
                    if (m.matches()) {{
                            manager.addShortText(m[0][1]);
                            break;
                    }}
            }}
    add_version_tag_plain: &add_version_tag_plain
        script: |
            import java.util.regex.Matcher;
            for (a in manager.build.getArtifacts()) {
                    m = (a =~ /(.*)\.dsc/);
                    if (m.matches()) {
                            manager.addShortText(m[0][1]);
                            break;
                    }
            }

# apt template

- job-template: &apt_source_template
        name: '{name}-source'
        id: 'source-apt'
        job-name: '{name}-source'
        description: 'Build Debian source package of {name} from "apt-get source".<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        project-type: matrix
        child-workspace: .
        parameters:
                - string: &revision_string
                        name: revision
                        default: '1'
                        description: Revision number to use on generated source package (number in .pgdg+N suffix)
                - choice: *queue_choice
                - string:
                        name: apt_suite
                        default: '{apt-suite}'
                        description: Debian release to "apt-get source" from
        execution-strategy:
                sequential: true
                combination-filter: '{dist-filter}'
                touchstone:
                        expr: 'distribution=="sid"'
        axes:
                - axis: *dist_axis
        builders:
                - shell: 'generate-pgdg-source'
        publishers:
                - archive:
                        artifacts: 'result/*'
                        latest-only: true
                - ircbot:
                        matrix-notifier: only-parent
                - trigger-parameterized-builds:
                        - project: '{name}-binaries'
                          condition: SUCCESS
                          predefined-parameters: 'queue=$queue'
                - groovy-postbuild: *add_version_tag

# git template

- job-template: &git_source_template
        <<: *apt_source_template
        name: '{name}-source'
        id: 'source-git'
        description: 'Build Debian source package of {name} from git.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        parameters:
                - string: &git_branch
                        name: branch
                        default: '{git-branch}'
                        description: Git branch, tag, or commit to build
                - string: *revision_string
                - choice: *queue_choice
        scm:
                - git:
                        url: '{git-url}'
                        branches:
                                - '$branch'
                        basedir: source
                        wipe-workspace: false
                        submodule:
                                recursive: true
                        clean:
                                before: true

# special git-in-git job for postgresql-devel
- job-template:
        <<: *git_source_template
        name: '{source-name}-source-git-head'
        id: 'source-git-head'
        parameters:
                - string: *git_branch
                - choice:
                        name: merge
                        choices:
                                - '{merge-branch}'
                        description: 'Packaging branch to merge with before build'
                - string: *revision_string
                - choice: *queue_choice
                - choice: *buildtype_choice
        triggers:
                - pollscm:
                        cron: "H */6 * * *"
        axes:
                - axis: *git_head_dist_axis
        scm:
                - git:
                        url: '{git-url}'
                        reference-repo: '$HOME/gitcache.buexcl/postgresql'
                        branches:
                                - '$branch'
                        basedir: source
                        wipe-workspace: false
        publishers:
                - archive:
                        artifacts: 'result/*'
                        latest-only: true
                - ircbot:
                        matrix-notifier: only-parent
                - trigger-parameterized-builds:
                        - project: '{source-name}-binaries-git-head'
                          condition: SUCCESS
                          predefined-parameters: 'queue=$queue'
                - groovy-postbuild: *add_version_tag

# build source for a single distribution

- job:
        <<: *apt_source_template
        name: 'build-source'
        id: 'build-source'
        description: 'Fetch source from an existing pkg-source/sid build and rebuild it for a different (usually new) distribution'
        project-type: freestyle
        properties: *properties_more_artifacts
        concurrent: true
        parameters:
                - string: &package_parameter
                        name: PACKAGE
                        description: 'Package to rebuild source for (without -source suffix)'
                - choice: &distribution_parameter
                        name: distribution
                        choices: *dist_list
                        description: 'Distribution to build for'
                - string: *revision_string
                - choice: *queue_choice
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: '$PACKAGE-source/distribution=sid'
                        filter: 'result/*'
                        flatten: true
                - shell: 'generate-pgdg-source'
        publishers:
                - archive:
                        artifacts: 'result/*'
                        latest-only: true
                - ircbot:
                        strategy: any-failure
                        message-type: summary-params
                - trigger-parameterized-builds:
                        - project: 'build-binaries'
                          condition: SUCCESS
                          predefined-parameters: |
                            PACKAGE=$PACKAGE
                            distribution=$distribution
                            queue=$queue
                - groovy-postbuild: *add_version_tag_plain
                - workspace-cleanup

# binaries template

- job-template: &binaries_template
        name: '{name}-binaries'
        id: 'binaries'
        description: 'Build Debian binary package of {name}.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        project-type: matrix
        parameters:
                - choice: *queue_choice
                - choice: *upload_choice
        execution-strategy: &binaries_execution_strategy
                combination-filter: '((architecture!="ppc64el") || (distribution!="wheezy")) && {arch-filter} && {dist-filter}'
                touchstone:
                        expr: '(distribution=="sid") && (architecture=="amd64")'
        axes:
                - axis: *arch_axis
                - axis: *dist_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact: &copysource
                        project: '{name}-source/distribution=$distribution'
                        filter: 'result/*'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: '{noadt}{backports}sbuild-package'
        publishers:
                - archive: &binaries_archive
                        artifacts: '*.gz,*.bz2,*.xz,*.deb,*.dsc,*.changes,*.buildinfo'
                        latest-only: true
                - junit:
                        results: autopkgtest.xml
                - ircbot: *only_configs
                - trigger-parameterized-builds: &next_job_trigger
                        - project: '{next-job}'
                          condition: SUCCESS
                          predefined-parameters: |
                                binaries=$JOB_NAME
                                queue=$queue
                                upload=$upload
                - groovy-postbuild: *add_version_tag
                - workspace-cleanup

# same as {name}-binaries, but running sequentially
- job-template:
        <<: *binaries_template
        name: '{name}-binaries'
        id: 'binaries-sequential'
        description: 'Build Debian binary package of {name}, running configurations sequentially.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        execution-strategy:
                <<: *binaries_execution_strategy
                sequential: true

# same as {name}-binaries, but triggers -beta and -devel builds on success
- job-template:
        <<: *binaries_template
        name: '{name}-binaries'
        id: 'binaries-with-next'
        publishers:
                - archive: *binaries_archive
                - junit:
                        results: autopkgtest.xml
                - ircbot: *only_configs
                - trigger-parameterized-builds: *next_job_trigger
                - trigger-parameterized-builds:
                        - project: '{name}-binaries-beta'
                          condition: SUCCESS
                          predefined-parameters: |
                                queue=$queue
                                upload=extension-only
                - trigger-parameterized-builds:
                        - project: '{name}-binaries-devel'
                          condition: SUCCESS
                          predefined-parameters: |
                                queue=$queue
                                upload=extension-only
                - groovy-postbuild: *add_version_tag
                - workspace-cleanup

# binaries triggered from -source-git-head
- job-template:
        <<: *binaries_template
        name: '{source-name}-binaries-git-head'
        id: 'binaries-git-head'
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: '{source-name}-source-git-head/distribution=$distribution'
                        filter: 'result/*'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: '{noadt}{backports}sbuild-package'
        axes:
                - axis: *git_head_arch_axis
                - axis: *git_head_dist_axis

# binaries for building modules for PostgreSQL beta
- job-template:
        <<: *binaries_template
        name: '{name}-binaries-beta'
        id: 'binaries-beta'
        builders:
                - shell: 'rm -rf *'
                - copyartifact: *copysource
                - shell: 'DEB_PG_SUPPORTED_VERSIONS="10" sbuild-package'

# binaries for building modules for PostgreSQL devel
- job-template:
        <<: *binaries_template
        name: '{name}-binaries-devel'
        id: 'binaries-devel'
        axes:
                - axis: *git_head_arch_axis
                - axis: *git_head_dist_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact: *copysource
                - shell: 'DEB_PG_SUPPORTED_VERSIONS="11" sbuild-package'

# binaries building from "build-source"

- job:
        <<: *binaries_template
        name: 'build-binaries'
        id: 'build-binaries'
        concurrent: true
        properties: *properties_more_artifacts
        parameters:
                - string: *package_parameter
                - choice: *distribution_parameter
                - bool:
                        name: BACKPORTS
                        description: 'Include backports repository in build chroot'
                - choice: *queue_choice
                - choice: *upload_choice
        execution-strategy:
                touchstone:
                        expr: 'architecture=="amd64"'
        axes:
                - axis: *arch_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: 'build-source'
                        filter: 'result/*'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: 'sbuild-package'
        publishers:
                - archive: *binaries_archive
                - junit:
                        results: autopkgtest.xml
                - ircbot:
                    strategy: any-failure
                    message-type: summary-params
                    matrix-notifier: only-configurations
                - trigger-parameterized-builds:
                        - project: 'dput'
                          condition: SUCCESS
                          predefined-parameters: |
                                binaries=$JOB_NAME
                                queue=$queue
                                upload=$upload
                - groovy-postbuild: *add_version_tag_plain
                - workspace-cleanup

# building modules for PostgreSQL beta, get source from apt.
# useful when the current -source job doesn't have all dists yet because
# it was not rerun since a new dist was added

- job: &build_binaries_from_apt
        <<: *binaries_template
        name: 'build-binaries-from-apt'
        id: 'build-binaries-from-apt'
        properties: *properties_more_artifacts
        concurrent: true
        parameters:
                - string:
                        name: PACKAGE
                        description: 'Package to build binaries for (without -source suffix)'
                - string:
                        name: DEB_PG_SUPPORTED_VERSIONS
                        default: 'pgdg'
                        description: 'PostgreSQL versions to target'
                - bool:
                        name: BACKPORTS
                        description: 'Include backports repository in build chroot'
                - choice: *queue_choice
                - choice: *upload_choice
        builders:
                - shell: 'rm -rf *'
                - shell: |
                    case $distribution in
                      sid)    tag='pgdg+' ;;
                      buster) tag='pgdg100+' ;;
                      stretch) tag='pgdg90+' ;;
                      jessie) tag='pgdg80+' ;;
                      wheezy) tag='pgdg70+' ;;
                      artful) tag='pgdg17.10+' ;;
                      zesty)  tag='pgdg17.04+' ;;
                      xenial) tag='pgdg16.04+' ;;
                      trusty) tag='pgdg14.04+' ;;
                      *) echo "bad distribution"; exit 1 ;;
                    esac
                    version=$(apt-cache showsrc $PACKAGE | awk '/^Version:/ { print $2 }' | grep $tag)
                    apt-get source -d $PACKAGE=$version
                - shell: 'sbuild-package'
        publishers:
                - archive: *binaries_archive
                - junit:
                        results: autopkgtest.xml
                - ircbot:
                        strategy: any-failure
                        message-type: summary-params
                - trigger-parameterized-builds:
                        - project: 'dput'
                          condition: SUCCESS
                          predefined-parameters: |
                                binaries=$JOB_NAME
                                queue=$queue
                                upload=$upload
                - groovy-postbuild: *add_version_tag_plain
                - workspace-cleanup

- job:
        <<: *build_binaries_from_apt
        name: 'build-binary-from-apt'
        id: 'build-binary-from-apt'
        project-type: freestyle
        parameters:
                - string:
                        name: PACKAGE
                        description: 'Package to build binaries for (without -source suffix)'
                - string:
                        name: DEB_PG_SUPPORTED_VERSIONS
                        default: 'pgdg'
                        description: 'PostgreSQL versions to target'
                - choice: *distribution_parameter
                - node:
                        name: architecture
                        allowed-slaves:
                           - amd64
                           - i386
                           - ppc64el
                        description: 'Architecture to build for'
                - bool:
                        name: BACKPORTS
                        description: 'Include backports repository in build chroot'
                - choice: *queue_choice
                - choice: *upload_choice

# testsuite template

- job-template: &testsuite_template
        name: '{name}-testsuite'
        description: 'Run the postgresql-common testsuite on {name}.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        project-type: matrix
        parameters:
                - choice: *queue_choice
        execution-strategy:
                combination-filter: '((architecture!="ppc64el") || (distribution!="wheezy")) && {arch-filter} && {dist-filter}'
                touchstone:
                        expr: '(distribution=="sid") && (architecture=="amd64")'
        axes:
                - axis: *arch_axis
                - axis: *dist_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: '{name}-binaries/architecture=$architecture,distribution=$distribution'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: 'postgresql-testsuite'
        publishers:
                - archive: *binaries_archive
                - ircbot: *only_configs
                - trigger-parameterized-builds:
                        - project: 'dput'
                          condition: SUCCESS
                          predefined-parameters: |
                                binaries={name}-testsuite
                                queue=$queue
                                upload=all
                - workspace-cleanup

- job-template:
        <<: *testsuite_template
        name: '{source-name}-testsuite-git-head'
        #job-name: '{name}-testsuite'
        axes:
                - axis: *git_head_arch_axis
                - axis: *git_head_dist_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: '{source-name}-binaries-git-head/architecture=$architecture,distribution=$distribution'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: 'postgresql-testsuite'
        publishers:
                - archive: *binaries_archive
                - ircbot: *only_configs
                - trigger-parameterized-builds:
                        - project: 'dput'
                          condition: SUCCESS
                          predefined-parameters: |
                                  binaries={source-name}-testsuite-git-head
                                  queue=$queue
                                  upload=all
                - workspace-cleanup

# upgrade test template

- job-template: &upgrade_template
        name: 'upgrade-{oldversion}-{newversion}'
        description: 'Test upgrades from {oldversion} to {newversion}.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        project-type: matrix
        execution-strategy:
                touchstone:
                        expr: '(distribution=="sid") && (architecture=="amd64")'
        axes:
                - axis: *arch_axis
                - axis: *dist_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: 'postgresql-{oldversion}-binaries/architecture=$architecture,distribution=$distribution'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - copyartifact:
                        project: 'postgresql-{newversion}-binaries/architecture=$architecture,distribution=$distribution'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: 'postgresql-testsuite'
        publishers:
                - ircbot: *only_configs
                - workspace-cleanup

- job-template:
        <<: *upgrade_template
        name: 'upgrade-{oldversion}-{newversion}-git-head'
        job-name: 'upgrade-{oldversion}-{newversion}'
        axes:
                - axis: *git_head_arch_axis
                - axis: *git_head_dist_axis

# job groups

- job-group:
        name: apt-packages
        jobs:
                - 'source-apt'
                - 'binaries'
        next-job: dput
        noadt: ''

- job-group:
        name: apt-packages-with-next
        jobs:
                - 'source-apt'
                - 'binaries-with-next'
                - 'binaries-beta'
                - 'binaries-devel'
        next-job: dput
        noadt: ''

- job-group:
        name: git-packages
        jobs:
                - 'source-git'
                - 'binaries'
        next-job: dput
        noadt: ''

- job-group:
        name: git-packages-sequential
        jobs:
                - 'source-git'
                - 'binaries-sequential'
        next-job: dput
        noadt: ''

- job-group:
        name: git-packages-with-next
        jobs:
                - 'source-git'
                - 'binaries-with-next'
                - 'binaries-beta'
                - 'binaries-devel'
        next-job: dput
        noadt: ''

- job-group:
        name: git-packages-adt
        jobs:
                - 'source-git'
                - 'binaries'
                - '{name}-testsuite'
        #next-job: '{name}-testsuite' -- doesn't resolve {name} (needs to be set manually in the job)
        noadt: 'ADT=skip '

- job-group:
        name: upgrade-job
        jobs:
                - 'upgrade-{oldversion}-{newversion}'

# simple jobs

- job:
        name: apt.postgresql.org
        description: 'Update apt.postgresql.org (pgapt.git) checkout on build hosts'
        project-type: matrix
        child-workspace: .
        axes:
                - axis: *slaves_axis
        scm: &scm_pgapt
                - git:
                        url: git://git.postgresql.org/git/pgapt.git
                        branches:
                                - master
                        wipe-workspace: false
        builders:
                - shell: 'chmod go+rX -R .' # make directory readable for other workers
                - shell: 'cd jenkins && make install'
        publishers:
                - trigger:
                        project: apt.postgresql.org-jobs
                - ircbot:
                        matrix-notifier: only-parent

- job:
        name: apt.postgresql.org-jobs
        scm: *scm_pgapt
        builders:
                - shell: 'cd jenkins && make && make update'
        publishers:
                - ircbot:
                        strategy: any-failure
                        message-type: summary

- job:
        name: 'debcheck-distsmirror'
        description: 'Sync apt.pg.org dists/ directory and trigger debcheck'
        project-type: matrix
        child-workspace: .
        axes:
                - axis: *slaves_axis
        triggers:
                - timed: "H H * * *"
        builders:
                - shell: |
                        wget --mirror http://atalia.postgresql.org/dists.tar.gz
                        rm -rf ~/dists
                        tar -C ~ -xf atalia.postgresql.org/dists.tar.gz
                #rsync -Pav --delete atalia.postgresql.org:/srv/apt/pub/repos/apt/dists/ /home/jenkins/dists
        publishers:
                - trigger:
                        project: debcheck
                - trigger:
                        project: builddebcheck
                - ircbot:
                        strategy: any-failure
                        message-type: summary

- job: &debcheck
        name: 'debcheck'
        description: 'Run dose-debcheck on all distributions'
        project-type: matrix
        child-workspace: .
        axes:
                - axis: *dist_axis
                - axis: *arch_axis
                - axis:
                        type: user-defined
                        name: stage
                        values:
                                - production
                                - testing

        execution-strategy:
                combination-filter: '(architecture!="ppc64el") || (distribution!="wheezy")'
        builders:
                - shell: debcheck-pgapt
        publishers:
                - ircbot:
                        strategy: failure-and-fixed
                        message-type: summary
                        matrix-notifier: only-configurations

- job:
        <<: *debcheck
        name: 'builddebcheck'
        description: 'Run dose-builddebcheck on all distributions'
        builders:
                - shell: 'builddebcheck-pgapt'

- job: &sbuild_update_x86
        name: 'sbuild-update-x86'
        description: 'Update sbuild chroots'
        project-type: matrix
        child-workspace: .
        execution-strategy:
                sequential: true
                combination-filter: '((architecture!="ppc64el") || (distribution!="wheezy"))'
        axes:
                - axis: *x86_slaves_axis
                - axis:
                    type: user-defined
                    name: architecture
                    values:
                      - amd64
                      - i386
                - axis: *dist_axis
        triggers:
                - timed: "H */6 * * *"
        builders:
                - shell: 'sbuild-update.sh'
        publishers:
                - ircbot: *only_configs

- job:
        <<: *sbuild_update_x86
        name: 'sbuild-update-ppc64el'
        axes:
                - axis: *ppc64el_slaves_axis
                - axis:
                    type: user-defined
                    name: architecture
                    values:
                      - ppc64el
                - axis: *dist_axis

- job: &dput
        name: dput
        description: 'Push packages to the repository.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        parameters:
                - string:
                        name: binaries
                        description: Name of binaries job to copy artifacts from (including -binaries suffix)
                - choice: *queue_choice
                - choice: *upload_choice
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: '$binaries'
                        filter: '*.gz,*.bz2,*.xz,*.deb,*.dsc,*.changes,*.buildinfo'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: 'dput-pgdg $queue'
        publishers:
                - ircbot:
                        matrix-notifier: all
                        message-type: summary-params
                - groovy-postbuild: &dput_groovy
                        script: 'manager.addShortText("${manager.build.environment.binaries} (${manager.build.environment.queue}, ${manager.build.environment.upload})")'

# variant of dput that handles each configuration separately
# (needed after using matrixreloaded on build jobs)
- job:
        <<: *dput
        name: dput-matrixreloaded
        project-type: matrix
        child-workspace: .
        execution-strategy:
                combination-filter: '((architecture!="ppc64el") || (distribution!="wheezy"))'
                sequential: true
                touchstone:
                        expr: '(distribution=="sid") && (architecture=="amd64")'
        axes:
                - axis: *arch_axis_userdefined
                - axis: *dist_axis
        builders:
                - shell: 'rm -rf *'
                - copyartifact:
                        project: '$binaries/architecture=$architecture,distribution=$distribution'
                        filter: '*.gz,*.bz2,*.xz,*.deb,*.dsc,*.changes,*.buildinfo'
                        flatten: true
                        which-build: upstream-build
                        fallback-to-last-successful: true
                - shell: 'dput-pgdg $queue'
        publishers:
                - ircbot:
                        matrix-notifier: only-parent
                        message-type: summary-params
                - groovy-postbuild: *dput_groovy

- job:
        name: hardlink-jenkins-files
        description: 'Save some space in ~jenkins by hardlinking files'
        triggers:
                - timed: "H H * * *"
        builders:
                - shell: |
                    cd $JENKINS_HOME && hardlink -vfot -i '\.tar\.' -i '\.dsc$' -i '\.deb$' jobs* workspace*
        publishers:
                - ircbot:
                        strategy: any-failure
                        message-type: summary

#- job:
#        name: promote
#        description: 'Promotes packages from the *-pgdg-testing distributions to *-pgdg.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
#        parameters:
#                - string:
#                        name: package
#                        description: 'Name of source package to promote (no "-source" suffix)'
#                - string:
#                        name: distributions
#                        description: 'Distributions to promote (space-separated, default "all")'
#                        default: 'all'
#        builders:
#                - shell: 'ssh atalia.postgresql.org promote -d "$distributions" $package'
#        publishers:
#                - ircbot:
#                        matrix-notifier: all
#                        message-type: summary-params
#                - groovy-postbuild: 'manager.addShortText("${manager.build.environment.package} (${manager.build.environment.distributions})")'

- job:
        name: upgrade-plperl
        description: 'Test plperl upgrades.<br />Do not edit this job through the web interface, it is generated via jenkins-job-builder!'
        project-type: matrix
        execution-strategy:
                touchstone:
                        expr: '(distribution=="wheezy") && (architecture=="amd64")'
        axes:
                - axis: *arch_axis
                - axis:
                        type: user-defined
                        name: distribution
                        values: [wheezy]
        builders:
                - shell: 'sudo cowbuilder --execute $(which upgrade-plperl) --basepath /home/pbuilder/base-$distribution-$architecture.cow'

- job:
        name: gitcache-postgresql
        description: Reference repository postgresql source jobs
        workspace: '$HOME/gitcache.buexcl/postgresql'
        scm:
                - git:
                        url: git://git.postgresql.org/git/postgresql.git
                        branches:
                                - master
                        wipe-workspace: false
        triggers:
                - pollscm:
                        cron: "H */6 * * *"

# project jobs

- project:
        name: apgdiff
        git-url: https://alioth.debian.org/anonscm/git/pkg-postgresql/apgdiff.git
        jobs:
                - git-packages

- project:
        name: autopkgtest
        git-url: git://anonscm.debian.org/autopkgtest/autopkgtest.git
        backports: 'BACKPORTS=yes '
        jobs:
                - git-packages

- project:
        name: bucardo
        git-url: git://anonscm.debian.org/pkg-postgresql/bucardo.git
        jobs:
                - git-packages

- project:
        name: barman
        git-url: git://git.debian.org/collab-maint/barman.git
        jobs:
                - git-packages

- project:
        name: barman-cli
        git-url: git://git.debian.org/pkg-postgresql/barman-cli.git
        jobs:
                - git-packages

- project:
        name: bgw-replstatus
        git-url: https://github.com/mhagander/bgw_replstatus.git
        jobs:
                - git-packages-with-next

- project:
        name: check-postgres
        git-url: git://anonscm.debian.org/pkg-postgresql/check-postgres.git
        jobs:
                - git-packages

- project:
        name: citus
        git-url: https://github.com/citusdata/packaging.git
        git-branch: debian
        jobs:
                - git-packages-with-next

- project:
        name: dh-exec
        # backport 0.14 from jessie to older dists
        apt-suite: jessie
        dist-filter: '(distribution=="wheezy") || (distribution=="trusty")'
        jobs:
                - apt-packages

- project:
        name: docbook-xsl
        # postgresql-10 needs docbook-xsl >= 1.77
        apt-suite: jessie
        dist-filter: '(distribution=="wheezy")'
        jobs:
                - apt-packages

- project:
        name: gdal
        # sid and trusty are current enough
        apt-suite: ??
        dist-filter: '(distribution=="wheezy")'
        jobs:
                - apt-packages

- project:
        name: geos
        # sid and trusty are current enough
        apt-suite: ??
        dist-filter: '(distribution=="wheezy")'
        jobs:
                - apt-packages

- project:
        name: ip4r
        git-url: git://anonscm.debian.org/pkg-postgresql/ip4r.git
        jobs:
                - git-packages-with-next

- project:
        name: libdbd-pg-perl
        git-url: https://anonscm.debian.org/git/pkg-perl/packages/libdbd-pg-perl.git
        jobs:
                - git-packages

- project:
        name: libtap-parser-sourcehandler-pgtap-perl
        git-url: git://anonscm.debian.org/pkg-perl/packages/libtap-parser-sourcehandler-pgtap-perl.git
        jobs:
                - git-packages

- project:
        name: libpqtypes
        git-url: git://anonscm.debian.org/pkg-postgresql/libpqtypes.git
        # run sequentially so the tests have 5432 available
        jobs:
                - git-packages-sequential

- project:
        name: mimeo
        git-url: https://anonscm.debian.org/git/pkg-postgresql/mimeo.git
        git-branch: debian
        jobs:
                - git-packages-with-next

- project:
        name: newpid
        git-url: https://github.com/ChristophBerg/newpid.git
        # needs setns()
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages

- project:
        name: ora2pg
        git-url: https://anonscm.debian.org/git/collab-maint/ora2pg.git
        git-branch: debian/unstable
        # needs dh 10
        dist-filter: '(distribution!="wheezy") && (distribution!="trusty")'
        backports: 'BACKPORTS=yes '
        jobs:
                - git-packages

- project:
        name: orafce
        git-url: git://anonscm.debian.org/pkg-postgresql/orafce.git
        jobs:
                - git-packages-with-next

- project:
        name: resource-agents-paf
        git-url: https://github.com/dalibo/PAF.git
        dist-filter: '(distribution!="wheezy") && (distribution!="trusty")'
        # needs pacemaker backport on jessie
        backports: 'BACKPORTS=yes '
        jobs:
                - git-packages

- project:
        name: patroni
        git-url: https://anonscm.debian.org/git/pkg-postgresql/patroni.git
        jobs:
                - git-packages

- project:
        name: pg-activity
        git-url: https://anonscm.debian.org/git/users/kolter/pg-activity.git
        git-branch: unstable
        jobs:
                - git-packages

- project:
        name: pgadmin3
        git-url: git://anonscm.debian.org/pkg-postgresql/pgadmin3.git
        jobs:
                - git-packages

- project:
        name: pgagent
        git-url: git://anonscm.debian.org/pkg-postgresql/pgagent.git
        jobs:
                - git-packages

- project:
        name: pgaudit
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pgaudit.git
        jobs:
                - git-packages-with-next

- project:
        name: pgbadger
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pgbadger.git
        jobs:
                - git-packages

- project:
        name: pgbackman
        git-url: https://github.com/rafaelma/pgbackman.git
        jobs:
                - git-packages

- project:
        name: pgbackrest
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pgbackrest.git
        jobs:
                - git-packages

- project:
        name: pg-backup-ctl
        git-url: git://github.com/credativ/pg_backup_ctl.git
        jobs:
                - git-packages

- project:
        name: pgbouncer
        git-url: git://anonscm.debian.org/pkg-postgresql/pgbouncer.git
        backports: 'BACKPORTS=yes '
        jobs:
                - git-packages

- project:
        name: pgcluu
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pgcluu.git
        jobs:
                - git-packages

- project:
        name: pgdg-buildenv
        git-url: git://git.postgresql.org/git/pgapt.git
        jobs:
                - git-packages

- project:
        name: pg-dirtyread
        git-url: https://github.com/ChristophBerg/pg_dirtyread.git
        jobs:
                - git-packages-with-next

- project:
        name: pgespresso
        git-url: git://git.debian.org/collab-maint/pgespresso.git
        jobs:
                - git-packages-with-next

- project:
        name: pgextwlist
        git-url: https://github.com/dimitri/pgextwlist.git
        jobs:
                - git-packages-with-next

- project:
        name: pgfincore
        git-url: git://git.postgresql.org/git/pgfincore.git
        jobs:
                - git-packages-with-next

- project:
        name: pglogical
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pglogical.git
        jobs:
                - git-packages-with-next

- project:
        name: pgmemcache
        git-url: git://anonscm.debian.org/pkg-postgresql/pgmemcache.git
        jobs:
                - git-packages-with-next

- project:
        name: pgmodeler
        apt-suite: unstable
        # qtbase5-dev from wheezy-backports doesn't work: undefined reference to `MainWindow::PENDING_SAVE_OPER'
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - apt-packages

- project:
        name: pg-rage-terminator
        git-url: https://github.com/disco-stu/pg-rage-terminator-pkg.git
        jobs:
                - git-packages-with-next

- project:
        name: pg-repack
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pg-repack.git
        jobs:
                - git-packages-with-next

- project:
        name: pg-partman
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pg-partman.git
        jobs:
                - git-packages-with-next

- project:
        name: pgpool2
        git-url: git://anonscm.debian.org/pkg-postgresql/pgpool2.git
        jobs:
                - git-packages-with-next

- project:
        name: pgrouting
        git-url: git://anonscm.debian.org/pkg-grass/pgrouting.git
        # dh_sphinxdoc fails on wheezy
        # needs cmake >= 3.2 (needs backports on jessie, excludes trusty)
        dist-filter: '(distribution!="wheezy" && distribution!="trusty")'
        backports: 'BACKPORTS=yes '
        jobs:
                - git-packages-with-next

- project:
        name: pgsphere
        git-url: https://alioth.debian.org/anonscm/git/pkg-postgresql/pgsphere.git/
        jobs:
                - git-packages-with-next

- project:
        name: pgsql-asn1oid
        git-url: https://github.com/ChristophBerg/pgsql-asn1oid.git
        jobs:
                - git-packages-with-next

- project:
        name: pgsql-ogr-fdw
        git-url: https://anonscm.debian.org/git/pkg-grass/pgsql-ogr-fdw.git
        jobs:
                - git-packages-with-next

- project:
        name: pgstatplans
        git-url: https://github.com/2ndQuadrant/pg_stat_plans.git
        jobs:
                - git-packages-with-next

- project:
        name: pgtap
        git-url: git://anonscm.debian.org/pkg-postgresql/pgtap.git
        jobs:
                - git-packages-with-next

- project:
        name: pgtop
        git-url: git://anonscm.debian.org/collab-maint/pgtop.git
        jobs:
                - git-packages

- project:
        name: pgxnclient
        git-url: git://git.debian.org/pkg-postgresql/pgxnclient.git
        jobs:
                - git-packages

- project:
        name: pldebugger
        git-url: https://anonscm.debian.org/git/pkg-postgresql/pldebugger.git
        git-branch: debian
        jobs:
                - git-packages-with-next

- project:
        name: plr
        git-url: git://anonscm.debian.org/pkg-postgresql/plr.git
        jobs:
                - git-packages-with-next

- project:
        name: plv8
        git-url: git://anonscm.debian.org/pkg-postgresql/plv8.git
        git-branch: debian
        # libv8-dev/ppc64el is missing in Debian Jessie
        arch-filter: '!(architecture=="ppc64el" && distribution=="jessie")'
        jobs:
                - git-packages-with-next

- project:
        name: postgis
        git-url: git://git.debian.org/git/pkg-grass/postgis.git
        # needs libgeos-dev >= 3.4
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages-with-next

- project:
        name: postgis-java
        git-url: https://anonscm.debian.org/git/pkg-grass/postgis-java.git
        jobs:
                - git-packages

- project:
        name: postgresql-8.2
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: '8.2-pgdg'
        dist-filter: '(distribution=="sid")'
        jobs:
                - git-packages-adt
        next-job: 'postgresql-8.2-testsuite'

- project:
        name: postgresql-8.3
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: '8.3-pgdg'
        dist-filter: '(distribution=="sid")'
        jobs:
                - git-packages-adt
        next-job: 'postgresql-8.3-testsuite'

- project:
        name: postgresql-8.4
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: '8.4-pgdg'
        dist-filter: '(distribution=="sid")'
        jobs:
                - git-packages-adt
        next-job: 'postgresql-8.4-testsuite'

- project:
        name: postgresql-9.0
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: '9.0-pgdg'
        dist-filter: '(distribution=="sid")'
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.0-testsuite'

- project:
        name: postgresql-9.1
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 9.1
        dist-filter: '(distribution=="sid")'
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.1-testsuite'

- project:
        name: postgresql-9.2
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 9.2
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.2-testsuite'

- project:
        name: postgresql-9.3
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 9.3
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.3-testsuite'

- project:
        name: postgresql-9.4
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 9.4
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.4-testsuite'

- project:
        name: postgresql-9.5
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 9.5
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.5-testsuite'

- project:
        name: postgresql-9.6
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 9.6
        jobs:
                - git-packages-adt
        next-job: 'postgresql-9.6-testsuite'

- project:
        name: postgresql-10
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 10
        jobs:
                - git-packages-adt
        next-job: 'postgresql-10-testsuite'

- project:
        name: postgresql-11
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql.git
        git-branch: 11
        jobs:
                - git-packages-adt
        next-job: 'postgresql-11-testsuite'

# the PostgreSQL devel version:
- project:
        name: postgresql-10-devel
        source-name: postgresql-10
        git-url: git://git.postgresql.org/git/postgresql.git
        git-branch: origin/REL_10_STABLE
        merge-branch: 10
        jobs:
                - 'source-git-head'
                - 'binaries-git-head'
                - '{source-name}-testsuite-git-head'
        next-job: postgresql-10-testsuite-git-head
        noadt: 'ADT=skip '

- project:
        name: postgresql-11-devel
        source-name: postgresql-11
        git-url: git://git.postgresql.org/git/postgresql.git
        git-branch: origin/master
        merge-branch: 11
        jobs:
                - 'source-git-head'
                - 'binaries-git-head'
                - '{source-name}-testsuite-git-head'
        next-job: postgresql-11-testsuite-git-head
        noadt: 'ADT=skip '

- project:
        name: postgresql-common
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-common.git
        jobs:
                - git-packages

- project:
        name: postgresql-debversion
        git-url: git://git.debian.org/git/buildd-tools/postgresql-debversion
        git-branch: debian
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-filedump
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-filedump.git
        jobs:
                - git-packages

- project:
        name: postgresql-multicorn
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-multicorn.git
        # python foo (wheezy)
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-mysql-fdw
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-mysql-fdw.git
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-numeral
        git-url: https://github.com/ChristophBerg/postgresql-numeral.git
        # needs bison 3
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-pgmp
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-pgmp.git
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-pljava
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-pljava.git
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-pllua
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-pllua.git
        # wheezy/precise amd64: ERROR:  cache lookup failed for type 2192165
        # (squeeze and wheezy/precise i386 work)
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-plproxy
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-plproxy.git
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-plsh
        git-url: git://anonscm.debian.org/pkg-postgresql/postgresql-plsh.git
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-prioritize
        git-url: https://anonscm.debian.org/git/pkg-postgresql/postgresql-prioritize.git
        jobs:
                - git-packages-with-next

- project:
        name: postgresql-unit
        git-url: https://github.com/ChristophBerg/postgresql-unit.git
        jobs:
                - git-packages-with-next

- project:
        name: powa-archivist
        git-url: https://github.com/dalibo/powa-archivist.git
        git-branch: master
        jobs:
                - git-packages-with-next

- project:
        name: prefix
        git-url: git://github.com/dimitri/prefix.git
        jobs:
                - git-packages-with-next

- project:
        name: preprepare
        git-url: git://github.com/dimitri/preprepare.git
        git-branch: debian
        jobs:
                - git-packages-with-next

- project:
        name: psqlodbc
        git-url: git://anonscm.debian.org/pkg-postgresql/psqlodbc.git
        jobs:
                - git-packages

- project:
        name: python-argcomplete
        git-url: git://anonscm.debian.org/collab-maint/python-argcomplete.git
        # python foo (wheezy)
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages

- project:
        name: python-argh
        git-url: git://git.debian.org/collab-maint/python-argh.git
        jobs:
                - git-packages

- project: # needed by wal-e
        name: python-azure
        git-url: bzr::lp:~stub/ubuntu/trusty/python-azure/trunk
        backports: 'BACKPORTS=yes '
        jobs:
                - git-packages

- project:
        name: postgresql-q3c
        git-url: https://alioth.debian.org/anonscm/git/pkg-postgresql/postgresql-q3c.git/
        jobs:
                - git-packages-with-next

- project:
        name: repmgr
        git-url: git://git.debian.org/pkg-postgresql/repmgr.git
        jobs:
                - git-packages-with-next

- project:
        name: repmgr2
        git-url: git://git.debian.org/pkg-postgresql/repmgr2.git
        jobs:
                - git-packages

- project:
        name: sfcgal
        git-url: git://anonscm.debian.org/pkg-grass/sfcgal.git
        git-branch: jessie-backports
        dist-filter: 'distribution=="jessie"'
        jobs:
                - git-packages

- project:
        name: skytools
        git-url: git://anonscm.debian.org/pkg-postgresql/skytools.git
        jobs:
                - git-packages

- project:
        name: skytools3
        git-url: git://anonscm.debian.org/pkg-postgresql/skytools3.git
        git-branch: debian
        jobs:
                - git-packages-with-next

- project:
        name: slony1-2
        git-url: git://anonscm.debian.org/pkg-postgresql/slony1-2.git
        jobs:
                - git-packages-with-next

- project:
        name: sqlsmith
        git-url: https://github.com/anse1/sqlsmith.git
        git-branch: debian
        # needs libpqxx 4
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages

- project:
        name: wal-e
        git-url: bzr::lp:~stub/ubuntu/trusty/wal-e/trunk
        # needs python-swiftclient
        dist-filter: '(distribution!="wheezy")'
        jobs:
                - git-packages

- project:
        name: upgrade-8.4-9.4
        oldversion: 8.4
        newversion: 9.4
        jobs:
                - upgrade-job

- project:
        name: upgrade-9.1-9.2
        oldversion: 9.1
        newversion: 9.2
        jobs:
                - upgrade-job

- project:
        name: upgrade-9.1-9.3
        oldversion: 9.1
        newversion: 9.3
        jobs:
                - upgrade-job

- project:
        name: upgrade-9.2-9.3
        oldversion: 9.2
        newversion: 9.3
        jobs:
                - upgrade-job

- project:
        name: upgrade-9.3-9.4
        oldversion: 9.3
        newversion: 9.4
        jobs:
                - upgrade-job

- project:
        name: upgrade-9.4-9.5
        oldversion: 9.4
        newversion: 9.5
        jobs:
                - upgrade-job

- project:
        name: upgrade-9.4-9.6
        oldversion: 9.4
        newversion: 9.6
        jobs:
                - upgrade-job

## pgloader and dependencies
- project:
        name: pgloader
        #git-url: https://github.com/dimitri/pgloader.git
        apt-suite: unstable
        arch-filter: '(architecture!="ppc64el")'
        jobs:
                #- git-packages
                - apt-packages

- project:
        name: sbcl
        apt-suite: jessie
        # upgrade sbcl to 1.2 on the older dists
        arch-filter: '(architecture!="ppc64el") && ((distribution=="wheezy") || (distribution=="trusty") || (distribution=="utopic"))'
        jobs:
                - apt-packages

- project: &aptpkg
        name: bordeaux-threads
        apt-suite: 'unstable'
        arch-filter: '(architecture!="ppc64el")'
        jobs: [apt-packages]
- project: { <<: *aptpkg, name: buildapp }
- project: { <<: *aptpkg, name: cffi }
- project: { <<: *aptpkg, name: cl-abnf }
- project: { <<: *aptpkg, name: cl-alexandria }
- project: { <<: *aptpkg, name: cl-anaphora }
- project: { <<: *aptpkg, name: cl-asdf }
- project: { <<: *aptpkg, name: cl-asdf-finalizers }
- project: { <<: *aptpkg, name: cl-asdf-system-connections }
- project: { <<: *aptpkg, name: cl-chipz }
- project: { <<: *aptpkg, name: cl-chunga }
- project: { <<: *aptpkg, name: cl-closure-common }
- project: { <<: *aptpkg, name: cl-command-line-arguments }
- project: { <<: *aptpkg, name: cl-containers }
- project: { <<: *aptpkg, name: cl-csv }
- project: { <<: *aptpkg, name: cl-curry-compose-reader-macros }
- project: { <<: *aptpkg, name: cl-cxml }
- project: { <<: *aptpkg, name: cl-daemon }
- project: { <<: *aptpkg, name: cl-db3 }
- project: { <<: *aptpkg, name: cl-drakma }
- project: { <<: *aptpkg, name: cl-dynamic-classes }
- project: { <<: *aptpkg, name: cl-esrap }
- project: { <<: *aptpkg, name: cl-fad }
- project: { <<: *aptpkg, name: cl-fiveam }
- project: { <<: *aptpkg, name: cl-garbage-pools }
- project: { <<: *aptpkg, name: cl-github-v3 }
- project: { <<: *aptpkg, name: cl-graph }
- project: { <<: *aptpkg, name: cl-ieee-floats }
- project: { <<: *aptpkg, name: cl-interpol }
- project: { <<: *aptpkg, name: cl-ironclad }
- project: { <<: *aptpkg, name: cl-iterate }
- project: { <<: *aptpkg, name: cl-ixf }
- project: { <<: *aptpkg, name: cl-local-time }
- project: { <<: *aptpkg, name: cl-log }
- project: { <<: *aptpkg, name: cl-lparallel }
- project: { <<: *aptpkg, name: cl-markdown }
- project: { <<: *aptpkg, name: cl-md5 }
- project: { <<: *aptpkg, name: cl-metabang-bind }
- project: { <<: *aptpkg, name: cl-metatilities-base }
- project: { <<: *aptpkg, name: cl-mssql }
- project: { <<: *aptpkg, name: cl-nibbles }
- project: { <<: *aptpkg, name: cl-parse-number }
- project: { <<: *aptpkg, name: cl-plus-ssl }
- project: { <<: *aptpkg, name: cl-postmodern }
- project: { <<: *aptpkg, name: cl-puri }
- project: { <<: *aptpkg, name: cl-py-configparser }
- project: { <<: *aptpkg, name: cl-qmynd }
- project: { <<: *aptpkg, name: cl-quri }
- project: { <<: *aptpkg, name: cl-rfc2388 }
- project: { <<: *aptpkg, name: cl-salza2 }
- project: { <<: *aptpkg, name: cl-sqlite }
- project: { <<: *aptpkg, name: cl-trivial-backtrace }
- project: { <<: *aptpkg, name: cl-trivial-garbage }
- project: { <<: *aptpkg, name: cl-trivial-utf-8 }
- project: { <<: *aptpkg, name: cl-unicode }
- project: { <<: *aptpkg, name: cl-utilities }
- project: { <<: *aptpkg, name: cl-uuid }
- project: { <<: *aptpkg, name: cl-who }
- project: { <<: *aptpkg, name: cl-yason }
- project: { <<: *aptpkg, name: cl-zip }
- project: { <<: *aptpkg, name: cl-zs3 }
##
